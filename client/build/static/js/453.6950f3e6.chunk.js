"use strict";(self.webpackChunkbp_frontend_typescript=self.webpackChunkbp_frontend_typescript||[]).push([[453],{3453:function(e,i,n){n.r(i),n.d(i,{default:function(){return w}});var r=n(885),t=n(2791),s=n(3360),o=n(9743),l=n(2677),d=n(1398),c=n(6060),a=n(8949),m=n(4889),u=n(6864),h=n(6006),x="VideoForm_form__8XQfe",v=n(184),j="https://www.youtube-nocookie.com/embed/",p=function(e){var i=null!=e.video?{title:e.video.title,author:e.video.author,description:e.video.description,url:e.video.url.replace(j,""),length:e.video.length}:{title:"",author:"",description:"",length:0,url:""};return(0,v.jsx)(u.J9,{initialValues:i,validationSchema:h.Ry({title:h.Z_().trim().required("Povinn\xe9"),author:h.Z_().trim().required("Povinn\xe9"),description:h.Z_().trim().required("Povinn\xe9"),url:h.Z_().trim().required("Povinn\xe9"),length:h.Rx().min(1,"Video mus\xed ma\u0165 aspo\u0148 1 min\xfatu").required("Povinn\xe9")}),onSubmit:function(i,n){n.setSubmitting;i.url=j+i.url,e.onSubmit(i)},children:function(i){var n=i.errors,r=i.touched;return(0,v.jsxs)(u.l0,{className:"form-floating mb-3 ".concat(x),children:[(0,v.jsxs)("div",{className:"mt-3 mb-4",children:[(0,v.jsx)("label",{htmlFor:"title",children:"N\xe1zov videa"}),(0,v.jsx)(u.gN,{name:"title",type:"text",className:"form-control ".concat(n.title&&r.title?"is-invalid":""),placeholder:"UWB Technology"}),(0,v.jsx)(u.Bc,{name:"title",children:function(e){return(0,v.jsxs)("div",{className:"error-msg",children:["*",e]})}})]}),(0,v.jsxs)("div",{className:"mt-1 mb-4",children:[(0,v.jsx)("label",{htmlFor:"author",children:"Autor"}),(0,v.jsx)(u.gN,{name:"author",type:"text",className:"form-control ".concat(n.author&&r.author?"is-invalid":""),placeholder:"FiRa Consortium"}),(0,v.jsx)(u.Bc,{name:"author",children:function(e){return(0,v.jsxs)("div",{className:"error-msg",children:["*",e]})}})]}),(0,v.jsxs)("div",{className:"mt-1 mb-4",children:[(0,v.jsx)("label",{htmlFor:"description",children:"Popis videa"}),(0,v.jsx)(u.gN,{name:"description",as:"textarea",rows:"5",className:"form-control ".concat(n.description&&r.description?"is-invalid":""),placeholder:"Kr\xe1tke video obsahuj\xface..."}),(0,v.jsx)(u.Bc,{name:"description",children:function(e){return(0,v.jsxs)("div",{className:"error-msg",children:["*",e]})}})]}),(0,v.jsxs)("div",{className:"mt-1 mb-4",children:[(0,v.jsx)("label",{htmlFor:"url",children:"Odkaz/link na video"}),(0,v.jsxs)("div",{className:"input-group",children:[(0,v.jsxs)("div",{className:"input-group-prepend",children:[(0,v.jsx)("span",{className:"input-group-text d-lg-block d-none",children:j}),(0,v.jsx)("span",{className:"input-group-text d-md-block d-lg-none d-none",children:"youtube-nocookie.com/embed/"}),(0,v.jsx)("span",{className:"input-group-text d-sm-block d-md-none d-none",children:"youtube-nocookie.com/embed/"}),(0,v.jsx)("span",{className:"input-group-text d-sm-none",children:"...nocookie.com/embed/"})]}),(0,v.jsx)(u.gN,{name:"url",type:"text",className:"form-control ".concat(n.url&&r.url?"is-invalid":""),placeholder:"J5HrtevCuXU"})]}),(0,v.jsx)(u.Bc,{name:"url",children:function(e){return(0,v.jsxs)("div",{className:"error-msg",children:["*",e]})}})]}),(0,v.jsxs)("div",{className:"mt-1 mb-4",children:[(0,v.jsx)("label",{htmlFor:"length",children:"D\u013a\u017eka videa (min\xfaty)"}),(0,v.jsx)(u.gN,{name:"length",type:"number",className:"form-control ".concat(n.length&&r.length?"is-invalid":""),placeholder:"5"}),(0,v.jsx)(u.Bc,{name:"length",children:function(e){return(0,v.jsxs)("div",{className:"error-msg",children:["*",e]})}})]}),(0,v.jsx)("div",{className:"text-center",children:(0,v.jsx)(s.Z,{type:"submit",className:"width-responsive",children:e.submitBtnText})})]})}})},b=n(258),f=n(847),N=n(4521),g=n(3829),Z=function(e){return(0,v.jsx)(a.Z,{children:(0,v.jsxs)(a.Z.Item,{eventKey:'""'.concat(e.video.id),children:[(0,v.jsx)(a.Z.Header,{children:(0,v.jsxs)("p",{className:"h5",children:[e.video.title," - ",e.video.author," - ",e.video.length,"min"]})}),(0,v.jsxs)(a.Z.Body,{children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(b.Z,{requiredRole:[f.i4.ADMIN,f.i4.TEACHER],children:(0,v.jsxs)("div",{className:"d-flex flex-column d-md-block float-md-end",children:[(0,v.jsx)(N.Z,{btnTitle:"Upravi\u0165",modalTitle:"\xdaprava existuj\xfaceho videa",btnVariant:"warning",icon:(0,v.jsx)(m.Z,{}),className:"me-md-2",children:(0,v.jsx)(p,{submitBtnText:"Ulo\u017ei\u0165 zmenu",video:e.video,onSubmit:function(i){return e.onModify(i)}})}),(0,v.jsx)(g.Z,{confirmBtnTitle:"Vymaza\u0165",className:"mb-2 mt-2 mb-md-0 mt-md-0",title:"Vymazanie videa",headerTitle:"Naozaj chcete vymaza\u0165 toto video?",onConfirm:e.onDelete})]})}),(0,v.jsxs)("p",{children:["N\xe1zov: ".concat(e.video.title),(0,v.jsx)("br",{}),"Autor: ".concat(e.video.author),(0,v.jsx)("br",{}),"D\u013a\u017eka: ".concat(e.video.length," min\xfat"),(0,v.jsx)("br",{}),"Popis: ".concat(e.video.description),(0,v.jsx)("br",{}),"Odkaz: ",(0,v.jsx)("a",{href:e.video.url,children:e.video.url})]})]}),(0,v.jsx)("iframe",{title:e.video.title,width:"100%",height:"600",src:e.video.url,allowFullScreen:!0})]})]})})},y=function(e){var i=(0,t.useContext)(c.Z);return(0,v.jsx)(d.Z,{children:e.videos.map((function(e){return(0,v.jsx)(Z,{video:e,onModify:i.modifyVideo.bind(null,e.id),onDelete:i.removeVideo.bind(null,e.id)},e.id)}))})},k=n(5711),V=n(7222),F=n(5759),w=function(){var e,i=(0,t.useContext)(c.Z),n=i.data,d=n.error,a=n.opStatus,m=n.videos,u=i.fetchVideos,h=(0,t.useState)(!1),x=(0,r.Z)(h,2),j=x[0],N=x[1];(0,t.useEffect)((function(){u()}),[u]);var g=(0,v.jsx)(b.Z,{requiredRole:[f.i4.ADMIN,f.i4.TEACHER],children:(0,v.jsxs)("div",{className:"centered",children:[(0,v.jsx)(s.Z,{onClick:function(){return N(!0)},children:"Vytvori\u0165 nov\xe9 video"}),(0,v.jsx)(F.Z,{title:"Vytvorenie nov\xe9ho videa",backdropType:"static",show:j,onHide:function(){return N(!1)},children:(0,v.jsx)(p,{submitBtnText:"Vytvori\u0165 video",onSubmit:function(e){i.addVideo(e),N(!1)}})})]})});return"Pending"===a&&(e=(0,v.jsx)("div",{className:"centered",children:(0,v.jsx)(k.Z,{})})),(d||"Failure"===a)&&(e=(0,v.jsx)("p",{className:"centered h4 error-msg",children:d})),"Finished"!==a||m&&0!==m.length||(e=(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{className:"centered",children:(0,v.jsx)("p",{className:"h4",children:"\u017diadne vide\xe1 neboli n\xe1jden\xe9"})})})),"Finished"===a&&!d&&m&&m.length>0&&(e=(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{className:"maxwidth-720",children:(0,v.jsx)(y,{videos:m})})})),(0,v.jsxs)(V.Z,{children:[(0,v.jsx)(o.Z,{children:(0,v.jsxs)(l.Z,{children:[(0,v.jsx)("div",{className:"centered",children:(0,v.jsx)("h2",{className:"display-2 txt-main",children:"Zoznam Vide\xed"})}),g]})}),(0,v.jsx)(o.Z,{children:(0,v.jsx)(l.Z,{children:e})})]})}}}]);
//# sourceMappingURL=453.6950f3e6.chunk.js.map