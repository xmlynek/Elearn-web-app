"use strict";(self.webpackChunkbp_frontend_typescript=self.webpackChunkbp_frontend_typescript||[]).push([[647],{7222:function(e,r,i){var s=i(7022),a=i(184);r.Z=function(e){return(0,a.jsx)(s.Z,{className:"container-content my-sm-4 my-xl-5 pb-3 pb-sm-4 pb-lg-5",children:e.children})}},5759:function(e,r,i){var s=i(5316),a=i(1578),n=i(184);r.Z=function(e){var r=(0,a.Z)();return(0,n.jsx)("div",{children:(0,n.jsxs)(s.Z,{className:e.className,show:e.show,onHide:e.onHide,size:"lg",backdrop:"static"!==e.backdropType||"static","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,n.jsx)(s.Z.Header,{closeButton:!0,children:(0,n.jsx)(s.Z.Title,{id:"contained-modal-title-vcenter",children:e.title})}),(0,n.jsxs)(s.Z.Body,{children:[(0,n.jsx)("h5",{children:null===r||void 0===r?void 0:r.modalLayoutBodyLabel}),e.children]})]})})}},8145:function(e,r,i){var s=i(6864),a=i(847),n=i(6006),l=i(3360),o=i(1578),d=i(184);r.Z=function(e){var r,i=(0,o.Z)(),t=e.formData?{firstname:e.formData.firstname,lastname:e.formData.lastname,email:e.formData.email,password:"",role:e.formData.role}:{email:"",firstname:"",lastname:"",role:a.i4.STUDENT,password:"",confirmPassword:"",confirmProcessData:!e.registration};return r=e.registration?n.Ry({firstname:n.Z_().trim().required(null===i||void 0===i?void 0:i.isRequiredErr),lastname:n.Z_().trim().required(null===i||void 0===i?void 0:i.isRequiredErr),email:n.Z_().email(null===i||void 0===i?void 0:i.wrongEmailFormatErr).trim().required(null===i||void 0===i?void 0:i.isRequiredErr),password:n.Z_().trim().required(null===i||void 0===i?void 0:i.isRequiredErr).min(8,null===i||void 0===i?void 0:i.passwordLengthErr).max(255,null===i||void 0===i?void 0:i.maxCharLengthErr).matches(/\d/,null===i||void 0===i?void 0:i.passwordMustContainNumberErr).matches(/[a-zA-Z]/,null===i||void 0===i?void 0:i.passwordMustContainLetterErr),confirmPassword:n.Z_().trim().required(null===i||void 0===i?void 0:i.isRequiredErr).oneOf([n.iH("password")],null===i||void 0===i?void 0:i.passwordMustMatchErr),confirmProcessData:n.O7().required(null===i||void 0===i?void 0:i.isRequiredErr).oneOf([!0],null===i||void 0===i?void 0:i.isRequiredErr)}):n.Ry({firstname:n.Z_().trim().required(null===i||void 0===i?void 0:i.isRequiredErr),lastname:n.Z_().trim().required(null===i||void 0===i?void 0:i.isRequiredErr),email:n.Z_().email(null===i||void 0===i?void 0:i.wrongEmailFormatErr).trim().required(null===i||void 0===i?void 0:i.isRequiredErr),password:n.Z_().trim().required(null===i||void 0===i?void 0:i.isRequiredErr).min(8,null===i||void 0===i?void 0:i.passwordLengthErr).max(255,null===i||void 0===i?void 0:i.maxCharLengthErr).matches(/\d/,null===i||void 0===i?void 0:i.passwordMustContainNumberErr).matches(/[a-zA-Z]/,null===i||void 0===i?void 0:i.passwordMustContainLetterErr)}),e.allowRoleChange&&e.ignorePassword&&(r=n.Ry({firstname:n.Z_().trim().required(null===i||void 0===i?void 0:i.isRequiredErr),lastname:n.Z_().trim().required(null===i||void 0===i?void 0:i.isRequiredErr),email:n.Z_().email(null===i||void 0===i?void 0:i.wrongEmailFormatErr).trim().required(null===i||void 0===i?void 0:i.isRequiredErr),role:n.Z_().trim().required(null===i||void 0===i?void 0:i.isRequiredErr)})),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(s.J9,{onSubmit:function(r){e.onSubmit(r)},initialValues:t,validationSchema:r,children:function(r){var n=r.errors,o=r.touched;return(0,d.jsxs)(s.l0,{className:"form-floating mb-3",children:[(0,d.jsx)("div",{className:"mt-3 mb-4",children:(0,d.jsxs)("div",{className:"form-control",children:[(0,d.jsx)("label",{htmlFor:"firstname",children:null===i||void 0===i?void 0:i.firstNameLabel}),(0,d.jsx)(s.gN,{id:"firstname",name:"firstname",className:"form-control ".concat(n.firstname&&o.firstname?"is-invalid":"")}),(0,d.jsx)(s.Bc,{name:"firstname",children:function(e){return(0,d.jsx)("div",{className:"error-msg",children:e})}})]})}),(0,d.jsx)("div",{className:"mt-3 mb-4",children:(0,d.jsxs)("div",{className:"form-control",children:[(0,d.jsx)("label",{htmlFor:"lastname",children:null===i||void 0===i?void 0:i.lastNameLabel}),(0,d.jsx)(s.gN,{id:"lastname",name:"lastname",className:"form-control ".concat(n.lastname&&o.lastname?"is-invalid":"")}),(0,d.jsx)(s.Bc,{name:"lastname",children:function(e){return(0,d.jsx)("div",{className:"error-msg",children:e})}})]})}),(0,d.jsx)("div",{className:"mt-3 mb-4",children:(0,d.jsxs)("div",{className:"form-control",children:[(0,d.jsx)("label",{htmlFor:"email",children:"Email"}),(0,d.jsx)(s.gN,{id:"email",name:"email",className:"form-control ".concat(n.email&&o.email?"is-invalid":"")}),(0,d.jsx)(s.Bc,{name:"email",children:function(e){return(0,d.jsx)("div",{className:"error-msg",children:e})}})]})}),!e.ignorePassword&&(0,d.jsx)("div",{className:"mt-3 mb-4",children:(0,d.jsxs)("div",{className:"form-control",children:[(0,d.jsx)("label",{htmlFor:"password",children:null===i||void 0===i?void 0:i.passwordLabel}),(0,d.jsx)(s.gN,{id:"password",name:"password",type:"password",className:"form-control ".concat(n.password&&o.password?"is-invalid":"")}),(0,d.jsx)(s.Bc,{name:"password",children:function(e){return(0,d.jsx)("div",{className:"error-msg",children:e})}})]})}),e.registration&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"mt-3 mb-4",children:(0,d.jsxs)("div",{className:"form-control",children:[(0,d.jsx)("label",{htmlFor:"confirmPassword",children:null===i||void 0===i?void 0:i.confirmPasswordLabel}),(0,d.jsx)(s.gN,{id:"confirmPassword",name:"confirmPassword",type:"password",className:"form-control ".concat(n.password&&o.password?"is-invalid":"")}),(0,d.jsx)(s.Bc,{name:"confirmPassword",children:function(e){return(0,d.jsx)("div",{className:"error-msg",children:e})}})]})}),(0,d.jsx)("div",{className:"mt-3 mb-4",children:(0,d.jsx)("div",{className:"form-control",children:(0,d.jsxs)("div",{className:"form-check",children:[(0,d.jsx)(s.gN,{id:"confirmProcessData",name:"confirmProcessData",type:"checkbox",className:"form-check-input"}),(0,d.jsx)("label",{htmlFor:"confirmProcessData",className:"form-check-label",children:null===i||void 0===i?void 0:i.consentToDataProcessingLabel}),(0,d.jsx)(s.Bc,{name:"confirmProcessData",children:function(e){return(0,d.jsx)("div",{className:"error-msg",children:e})}})]})})})]}),e.allowRoleChange&&(0,d.jsx)("div",{className:"mt-3 mb-4",children:(0,d.jsxs)("div",{className:"form-control",children:[(0,d.jsx)("label",{htmlFor:"confirmPassword",children:null===i||void 0===i?void 0:i.userRoleLabel}),(0,d.jsxs)(s.gN,{name:"role",as:"select",className:"form-control ".concat(n.role&&o.role?"is-invalid":""),children:[(0,d.jsx)("option",{value:a.i4.STUDENT,children:a.i4.STUDENT}),(0,d.jsx)("option",{value:a.i4.TEACHER,children:a.i4.TEACHER}),(0,d.jsx)("option",{value:a.i4.ADMIN,children:a.i4.ADMIN})]}),(0,d.jsx)(s.Bc,{name:"role",children:function(e){return(0,d.jsx)("div",{className:"error-msg",children:e})}})]})}),(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)(l.Z,{type:"submit",className:"width-responsive",children:e.onSubmitText})})]})}})})}},1647:function(e,r,i){i.r(r),i.d(r,{default:function(){return Z}});var s=i(885),a=i(2791),n=i(3360),l=i(9743),o=i(2677),d=i(5759),t=i(7222),c=i(5711),m=i(258),u=i(8145),v=i(1398),h=i(6871),x=i(1578),f="UserList_flexRow__cmEyz",j=i(184),N=function(e){var r=(0,x.Z)(),i=(0,h.s0)();return(0,j.jsxs)(v.Z,{children:[(0,j.jsx)(v.Z.Item,{disabled:!0,children:(0,j.jsxs)("div",{className:f,children:[(0,j.jsx)("span",{children:"ID"}),(0,j.jsx)("span",{children:null===r||void 0===r?void 0:r.fullNameLabel}),(0,j.jsx)("span",{children:"Email"}),(0,j.jsx)("span",{children:null===r||void 0===r?void 0:r.userRoleLabel})]})}),e.users.map((function(e){return(0,j.jsx)(v.Z.Item,{action:!0,onClick:function(){i("/users/".concat(e.id))},children:(0,j.jsxs)("div",{className:f,children:[(0,j.jsxs)("span",{children:[e.id," "]}),(0,j.jsxs)("span",{children:[" ","".concat(e.firstname," ").concat(e.lastname)," "]}),(0,j.jsxs)("span",{children:[" ",e.email," "]}),(0,j.jsx)("span",{children:e.role})]})},e.id)}))]})},p=i(847),b=i(807),Z=function(e){var r,i=(0,x.Z)(),v=(0,a.useContext)(b.Z),h=v.fetchAll,f=v.data,Z=v.save,w=f.error,g=f.opStatus,E=f.users,q=(0,a.useState)(!1),R=(0,s.Z)(q,2),y=R[0],P=R[1];(0,a.useEffect)((function(){h()}),[h]);var D=(0,j.jsx)(m.Z,{requiredRole:[p.i4.ADMIN],children:(0,j.jsxs)("div",{className:"centered",children:[(0,j.jsx)(n.Z,{onClick:function(){return P(!0)},children:null===i||void 0===i?void 0:i.createNewUserTitle}),(0,j.jsx)(d.Z,{title:null===i||void 0===i?void 0:i.createNewUserTitle,backdropType:"static",show:y,onHide:function(){return P(!1)},children:(0,j.jsx)(u.Z,{allowRoleChange:!0,onSubmit:function(e){Z({role:e.role,email:e.email,firstname:e.firstname,lastname:e.lastname,password:e.password}),P(!1)},onSubmitText:null===i||void 0===i?void 0:i.createUserSubmitButtonTitle})})]})});return"Pending"===g&&(r=(0,j.jsx)("div",{className:"centered",children:(0,j.jsx)(c.Z,{})})),(w||"Failure"===g)&&(r=(0,j.jsx)("p",{className:"centered h4 error-msg",children:w})),"Finished"!==g||E&&0!==E.length||(r=(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:"centered",children:(0,j.jsx)("p",{className:"h4",children:null===i||void 0===i?void 0:i.noUsersFound})})})),"Finished"===g&&!w&&E&&E.length>0&&(r=(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:"maxwidth-720",children:(0,j.jsx)(N,{users:E})})})),(0,j.jsxs)(t.Z,{children:[(0,j.jsx)(l.Z,{children:(0,j.jsxs)(o.Z,{children:[(0,j.jsx)("div",{className:"centered",children:(0,j.jsx)("h2",{className:"display-2 txt-main",children:null===i||void 0===i?void 0:i.userListPageHeader})}),D]})}),(0,j.jsx)(l.Z,{children:(0,j.jsx)(o.Z,{children:r})})]})}},1398:function(e,r,i){i.d(r,{Z:function(){return Z}});var s=i(1413),a=i(5987),n=i(1694),l=i.n(n),o=i(2791),d=(i(2391),i(239)),t=i(763),c=i(162),m=i(885),u=i(9007),v=i(4787),h=i(8633),x=i(184),f=["bsPrefix","active","disabled","eventKey","className","variant","action","as"],j=o.forwardRef((function(e,r){var i=e.bsPrefix,n=e.active,o=e.disabled,d=e.eventKey,t=e.className,j=e.variant,N=e.action,p=e.as,b=(0,a.Z)(e,f);i=(0,c.vE)(i,"list-group-item");var Z=(0,v.v)((0,s.Z)({key:(0,h.h)(d,b.href),active:n},b)),w=(0,m.Z)(Z,2),g=w[0],E=w[1],q=(0,u.Z)((function(e){if(o)return e.preventDefault(),void e.stopPropagation();g.onClick(e)}));o&&void 0===b.tabIndex&&(b.tabIndex=-1,b["aria-disabled"]=!0);var R=p||(N?b.href?"a":"button":"div");return(0,x.jsx)(R,(0,s.Z)((0,s.Z)((0,s.Z)({ref:r},b),g),{},{onClick:q,className:l()(t,i,E.isActive&&"active",o&&"disabled",j&&"".concat(i,"-").concat(j),N&&"".concat(i,"-action"))}))}));j.displayName="ListGroupItem";var N=j,p=["className","bsPrefix","variant","horizontal","numbered","as"],b=o.forwardRef((function(e,r){var i,n=(0,d.Ch)(e,{activeKey:"onSelect"}),o=n.className,m=n.bsPrefix,u=n.variant,v=n.horizontal,h=n.numbered,f=n.as,j=void 0===f?"div":f,N=(0,a.Z)(n,p),b=(0,c.vE)(m,"list-group");return v&&(i=!0===v?"horizontal":"horizontal-".concat(v)),(0,x.jsx)(t.Z,(0,s.Z)((0,s.Z)({ref:r},N),{},{as:j,className:l()(o,b,u&&"".concat(b,"-").concat(u),i&&"".concat(b,"-").concat(i),h&&"".concat(b,"-numbered"))}))}));b.displayName="ListGroup";var Z=Object.assign(b,{Item:N})}}]);
//# sourceMappingURL=647.5e2a4261.chunk.js.map