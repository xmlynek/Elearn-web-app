(self.webpackChunkbp_frontend_typescript=self.webpackChunkbp_frontend_typescript||[]).push([[503],{4889:function(e,n,t){"use strict";var i=t(184);n.Z=function(){return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-gear mb-1",viewBox:"0 0 16 16",children:[(0,i.jsx)("path",{d:"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"}),(0,i.jsx)("path",{d:"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"})]})}},7222:function(e,n,t){"use strict";var i=t(7022),l=t(184);n.Z=function(e){return(0,l.jsx)(i.Z,{className:"container-content my-sm-4 my-xl-5 pb-3 pb-sm-4 pb-lg-5",children:e.children})}},5759:function(e,n,t){"use strict";var i=t(5316),l=t(1578),c=t(184);n.Z=function(e){var n=(0,l.Z)();return(0,c.jsx)("div",{children:(0,c.jsxs)(i.Z,{className:e.className,show:e.show,onHide:e.onHide,size:"lg",backdrop:"static"!==e.backdropType||"static","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,c.jsx)(i.Z.Header,{closeButton:!0,children:(0,c.jsx)(i.Z.Title,{id:"contained-modal-title-vcenter",children:e.title})}),(0,c.jsxs)(i.Z.Body,{children:[(0,c.jsx)("h5",{children:null===n||void 0===n?void 0:n.modalLayoutBodyLabel}),e.children]})]})})}},7285:function(e,n,t){"use strict";var i=t(5316),l=t(3360),c=t(1578),a=t(184);n.Z=function(e){var n=(0,c.Z)();return(0,a.jsxs)(i.Z,{className:e.className,show:e.show,onHide:e.onHide,backdrop:!0,children:[(0,a.jsx)(i.Z.Header,{closeButton:!0,children:(0,a.jsx)(i.Z.Title,{children:e.title})}),(0,a.jsxs)(i.Z.Body,{children:[(0,a.jsx)("h5",{children:e.bodyMessage}),e.children]}),(0,a.jsxs)(i.Z.Footer,{children:[(0,a.jsx)(l.Z,{onClick:e.onConfirm,children:null===n||void 0===n?void 0:n.confirmLabel}),(0,a.jsx)(l.Z,{onClick:e.onHide,children:null===n||void 0===n?void 0:n.cancelLabel})]})]})}},7122:function(e,n,t){"use strict";var i=t(885),l=t(2791),c=t(3360),a=t(1578),o=t(7285),s=t(184);n.Z=function(e){var n=(0,l.useState)(!1),t=(0,i.Z)(n,2),r=t[0],d=t[1],u=(0,a.Z)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{show:r,bodyMessage:e.headerTitle?e.headerTitle:"Potvrdenie vymazania topiku",onHide:function(){d(!1)},title:e.title?e.title:"Naozaj chcete vymaza\u0165 tento topik?",onConfirm:e.onDelete}),(0,s.jsx)(c.Z,{variant:"danger",onClick:function(){d(!0)},className:e.className?e.className:"ms-2",children:null===u||void 0===u?void 0:u.deleteLabel})]})}},4521:function(e,n,t){"use strict";var i=t(885),l=t(2791),c=t(3360),a=t(5759),o=t(184);n.Z=function(e){var n=(0,l.useState)(!1),t=(0,i.Z)(n,2),s=t[0],r=t[1],d=function(){r(!1)},u=e.callbackFunc?function(){e.callbackFunc&&(e.callbackFunc(),d())}:function(){d()};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.Z,{title:e.modalTitle,backdropType:"static",show:s,onHide:u,children:e.children}),(0,o.jsxs)(c.Z,{className:e.className,variant:"".concat(e.btnVariant?e.btnVariant:"primary"),onClick:function(){r(!0)},children:[e.btnTitle,e.icon?(0,o.jsx)("span",{className:"ms-1",children:e.icon}):null]})]})}},7719:function(e,n,t){"use strict";var i=t(4889),l=t(1578),c=t(4521),a=t(184);n.Z=function(e){var n=(0,l.Z)();return(0,a.jsx)(c.Z,{btnTitle:e.btnTitle?e.btnTitle:null===n||void 0===n?void 0:n.updateLabel,modalTitle:e.modalTitle,btnVariant:"warning",icon:(0,a.jsx)(i.Z,{}),className:e.className?e.className:"me-md-2",children:e.children})}},317:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var i=t(1413),l=t(885),c=t(2791),a=t(3855),o=t(3360),s="TopicForm_dropZone__LVPfo",r="TopicForm_dropzoneLabel__uXskC",d=t(7831),u=t(1578),m=t(184),p=function(e){var n=(0,u.Z)(),t=(0,c.useState)([]),p=(0,l.Z)(t,2),h=p[0],v=p[1],x=(0,c.useState)(null),f=(0,l.Z)(x,2),j=f[0],b=f[1],Z=(0,c.useState)(e.formField?e.formField.title:""),N=(0,l.Z)(Z,2),g=N[0],F=N[1],T=(0,c.useState)(null),y=(0,l.Z)(T,2),k=y[0],_=y[1];return(0,m.jsxs)(a.Z,{onSubmit:function(t){t.preventDefault();var i=new FormData;i.append("title",g);var l=0;""===g?(_(n.isRequiredErr),l=1):e.formField&&e.onSubmit(i),1!==h.length&&(b(n.mustInsertOnePDFFileErr),l=1),l||j||k||(i.append("file",h[0]),e.onSubmit(i))},children:[(0,m.jsx)("hr",{}),(0,m.jsx)(a.Z.Label,{htmlFor:"topic_title",className:"h3",children:null===n||void 0===n?void 0:n.titleLabel}),(0,m.jsx)(a.Z.Control,{id:"topic_title",value:g||"",onChange:function(e){F(e.target.value),""===e.target.value?_(n.isRequiredErr):_(null)}}),k&&(0,m.jsx)("p",{className:"error-msg h5",children:k}),(0,m.jsx)("hr",{}),(0,m.jsx)("h2",{className:"h3",children:null===n||void 0===n?void 0:n.topicFormAddPDFFileLabel}),(0,m.jsx)(d.ZP,{onDrop:function(e){1!==e.length?(b(n.mustInsertOnePDFFileErr),v([])):(b(null),v(e))},maxFiles:1,accept:{"application/pdf":[".pdf"]},children:function(e){var t,l,c=e.getRootProps,a=e.getInputProps;return(0,m.jsx)("section",{children:(0,m.jsxs)("div",(0,i.Z)((0,i.Z)({},c()),{},{className:"".concat(s," ").concat(r),children:[(0,m.jsx)("input",(0,i.Z)((0,i.Z)({},a()),{},{accept:"application/pdf"})),(0,m.jsx)("p",{className:"h5",children:0===h.length?null===n||void 0===n?void 0:n.topicFormDragSelectPDFFileLabel:(0,m.jsxs)("span",{children:[null===n||void 0===n?void 0:n.titleLabel,": ",null===(t=h.at(0))||void 0===t?void 0:t.name," ",(0,m.jsx)("br",{}),null===n||void 0===n?void 0:n.typeLabel,": ",null===(l=h.at(0))||void 0===l?void 0:l.type]})})]}))})}}),j&&(0,m.jsx)("p",{className:"error-msg h4",children:j}),(0,m.jsx)("div",{className:"text-center",children:(0,m.jsx)(o.Z,{type:"submit",className:"width-responsive mt-4",children:e.onSubmitText?e.onSubmitText:"Vytvori\u0165 topik"})})]})}},9749:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return y}});var i=t(2791),l=t(9743),c=t(2677),a=t(6871),o=t(885),s="TopicItem_ResumeContainer__S9azY",r="TopicItem_PDFDocument__Lc93d",d="TopicItem_PDFPage__X9WUB",u="TopicItem_PDFPageOne__GcF1E",m=t(3034),p=(t(7549),t(3678)),h=t(5711),v=t(184),x=function(e){p.v0.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(p.v0.version,"/pdf.worker.js");var n=(0,i.useState)(null),t=(0,o.Z)(n,2),l=t[0],c=t[1],a=(0,i.useState)(!0),x=(0,o.Z)(a,2),f=x[0],j=x[1];return(0,v.jsxs)("div",{id:s,children:[(0,v.jsx)("div",{className:"centered",children:(0,v.jsx)("h2",{className:"display-2 txt-main",children:e.topic.title})}),f&&(0,v.jsx)("div",{className:"centered",children:(0,v.jsx)(h.Z,{})}),(0,v.jsx)(m.BB,{file:{data:e.topic.data.data},className:r,options:{workerSrc:"/pdf.worker.js"},onLoadSuccess:function(e){var n=e.numPages;c(n),j(!1)},onLoadError:console.error,children:Array.from(new Array(l),(function(e,n){return(0,v.jsx)(p.T3,{pageNumber:n+1,className:"".concat(d," ").concat(u),renderTextLayer:!0,scale:1.7,renderInteractiveForms:!1},"page_".concat(n+1))}))})]})},f=t(6243),j=t(7122),b=t(258),Z=t(847),N=t(7222),g=t(317),F=t(7719),T=t(1578);var y=function(){var e=(0,T.Z)(),n=(0,a.UO)().topicId,t=(0,i.useContext)(f.Z),o=t.data,s=o.error,r=o.opStatus,d=o.topics,u=t.fetchById,m=(0,a.s0)();return(0,i.useEffect)((function(){n&&parseInt(n)>0&&u(parseInt(n))}),[]),"Pending"===r?(0,v.jsx)("div",{className:"centered",children:(0,v.jsx)(h.Z,{})}):s||"Failure"===r||"Finished"===r&&(!d||0===d.length)?(0,v.jsx)("p",{className:"centerVertical h1 bg-info py-2 px-3",children:"Request failed with status code 404"===s?"".concat(null===e||void 0===e?void 0:e.topicNotFound," (ID: ").concat(n,")"):s}):(0,v.jsxs)(N.Z,{children:[(0,v.jsx)(l.Z,{children:(0,v.jsx)(c.Z,{children:(0,v.jsx)("div",{children:(0,v.jsx)(b.Z,{requiredRole:[Z.i4.ADMIN,Z.i4.TEACHER],children:(0,v.jsxs)("div",{className:"d-flex flex-column d-md-block float-md-end",children:[(0,v.jsx)(F.Z,{modalTitle:null===e||void 0===e?void 0:e.topicUpdateModalTitle,children:(0,v.jsx)(g.Z,{onSubmit:function(e,n){e&&"string"===typeof e&&t.modifyTopic(parseInt(e),n,!0)}.bind(null,n),formField:d[0],onSubmitText:null===e||void 0===e?void 0:e.updateSubmitButtonLabel})}),(0,v.jsx)(j.Z,{onDelete:function(e){e&&"string"===typeof e&&(t.deleteTopic(parseInt(e)),"Finished"===r&&m("/topics"))}.bind(null,n),headerTitle:"".concat(null===e||void 0===e?void 0:e.deleteTopicModalLabel," ").concat(d[0].title),className:"ms-md-2 mb-2 mt-2 mb-md-0 mt-md-0",title:null===e||void 0===e?void 0:e.deleteTopicModalTitle})]})})})})}),(0,v.jsx)(l.Z,{children:(0,v.jsx)(x,{topic:d[0]})})]})}},4601:function(){},2767:function(){},8251:function(){},7677:function(){},1543:function(){},7324:function(){}}]);
//# sourceMappingURL=503.9e02322e.chunk.js.map