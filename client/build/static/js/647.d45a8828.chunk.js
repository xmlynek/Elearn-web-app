"use strict";(self.webpackChunkbp_frontend_typescript=self.webpackChunkbp_frontend_typescript||[]).push([[647],{7222:function(e,s,a){var n=a(7022),r=a(184);s.Z=function(e){return(0,r.jsx)(n.Z,{className:"container-content my-sm-4 my-xl-5 pb-3 pb-sm-4 pb-lg-5",children:e.children})}},5759:function(e,s,a){var n=a(5316),r=a(184);s.Z=function(e){return(0,r.jsx)("div",{children:(0,r.jsxs)(n.Z,{className:e.className,show:e.show,onHide:e.onHide,size:"lg",backdrop:"static"!==e.backdropType||"static","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,r.jsx)(n.Z.Header,{closeButton:!0,children:(0,r.jsx)(n.Z.Title,{id:"contained-modal-title-vcenter",children:e.title})}),(0,r.jsxs)(n.Z.Body,{children:[(0,r.jsx)("h5",{children:" Vypl\u0148te nasledovn\xe9 \xfadaje"}),e.children]})]})})}},8145:function(e,s,a){var n=a(6864),r=a(847),i=a(6006),o=a(3360),l=a(184);s.Z=function(e){var s,a=e.formData?{firstname:e.formData.firstname,lastname:e.formData.lastname,email:e.formData.email,password:"",role:e.formData.role}:{email:"",firstname:"",lastname:"",role:r.i4.USER,password:"",confirmPassword:"",confirmProcessData:!e.registration};return s=e.registration?i.Ry({firstname:i.Z_().trim().required("*Povinn\xe9"),lastname:i.Z_().trim().required("*Povinn\xe9"),email:i.Z_().email("Nespr\xe1vny form\xe1t emailu").trim().required("*Povinn\xe9"),password:i.Z_().trim().required("*Povinn\xe9").min(8,"Heslo mus\xed ma\u0165 aspo\u0148 8 znakov").max(255,"Maxim\xe1lny po\u010det znakov je 255").matches(/\d/,"Heslo mus\xed obsahova\u0165 aspo\u0148 jednu \u010d\xedslicu").matches(/[a-zA-Z]/,"Heslo mus\xed obsahova\u0165 aspo\u0148 jedno p\xedsmeno"),confirmPassword:i.Z_().trim().required("*Povinn\xe9").oneOf([i.iH("password")],"Hesl\xe1 sa musia zhodova\u0165"),confirmProcessData:i.O7().required("*Povinn\xe9").oneOf([!0],"*Povinn\xe9")}):i.Ry({firstname:i.Z_().trim().required("*Povinn\xe9"),lastname:i.Z_().trim().required("*Povinn\xe9"),email:i.Z_().email("Nespr\xe1vny form\xe1t emailu").trim().required("*Povinn\xe9"),password:i.Z_().trim().required("*Povinn\xe9").min(8,"Heslo mus\xed ma\u0165 aspo\u0148 8 znakov").max(255,"Maxim\xe1lny po\u010det znakov je 255").matches(/\d/,"Heslo mus\xed obsahova\u0165 aspo\u0148 jednu \u010d\xedslicu").matches(/[a-zA-Z]/,"Heslo mus\xed obsahova\u0165 aspo\u0148 jedno p\xedsmeno")}),e.allowRoleChange&&e.ignorePassword&&(s=i.Ry({firstname:i.Z_().trim().required("*Povinn\xe9"),lastname:i.Z_().trim().required("*Povinn\xe9"),email:i.Z_().email("Nespr\xe1vny form\xe1t emailu").trim().required("*Povinn\xe9"),role:i.Z_().trim().required("*Povinn\xe9")})),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(n.J9,{onSubmit:function(s){e.onSubmit(s)},initialValues:a,validationSchema:s,children:function(s){var a=s.errors,i=s.touched;return(0,l.jsxs)(n.l0,{className:"form-floating mb-3",children:[(0,l.jsx)("div",{className:"mt-3 mb-4",children:(0,l.jsxs)("div",{className:"form-control",children:[(0,l.jsx)("label",{htmlFor:"firstname",children:"Meno"}),(0,l.jsx)(n.gN,{id:"firstname",name:"firstname",className:"form-control ".concat(a.firstname&&i.firstname?"is-invalid":"")}),(0,l.jsx)(n.Bc,{name:"firstname",children:function(e){return(0,l.jsx)("div",{className:"error-msg",children:e})}})]})}),(0,l.jsx)("div",{className:"mt-3 mb-4",children:(0,l.jsxs)("div",{className:"form-control",children:[(0,l.jsx)("label",{htmlFor:"lastname",children:"Priezvisko"}),(0,l.jsx)(n.gN,{id:"lastname",name:"lastname",className:"form-control ".concat(a.lastname&&i.lastname?"is-invalid":"")}),(0,l.jsx)(n.Bc,{name:"lastname",children:function(e){return(0,l.jsx)("div",{className:"error-msg",children:e})}})]})}),(0,l.jsx)("div",{className:"mt-3 mb-4",children:(0,l.jsxs)("div",{className:"form-control",children:[(0,l.jsx)("label",{htmlFor:"email",children:"Email"}),(0,l.jsx)(n.gN,{id:"email",name:"email",className:"form-control ".concat(a.email&&i.email?"is-invalid":"")}),(0,l.jsx)(n.Bc,{name:"email",children:function(e){return(0,l.jsx)("div",{className:"error-msg",children:e})}})]})}),!e.ignorePassword&&(0,l.jsx)("div",{className:"mt-3 mb-4",children:(0,l.jsxs)("div",{className:"form-control",children:[(0,l.jsx)("label",{htmlFor:"password",children:"Heslo"}),(0,l.jsx)(n.gN,{id:"password",name:"password",type:"password",className:"form-control ".concat(a.password&&i.password?"is-invalid":"")}),(0,l.jsx)(n.Bc,{name:"password",children:function(e){return(0,l.jsx)("div",{className:"error-msg",children:e})}})]})}),e.registration&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"mt-3 mb-4",children:(0,l.jsxs)("div",{className:"form-control",children:[(0,l.jsx)("label",{htmlFor:"confirmPassword",children:"Potvrdenie hesla"}),(0,l.jsx)(n.gN,{id:"confirmPassword",name:"confirmPassword",type:"password",className:"form-control ".concat(a.password&&i.password?"is-invalid":"")}),(0,l.jsx)(n.Bc,{name:"confirmPassword",children:function(e){return(0,l.jsx)("div",{className:"error-msg",children:e})}})]})}),(0,l.jsx)("div",{className:"mt-3 mb-4",children:(0,l.jsx)("div",{className:"form-control",children:(0,l.jsxs)("div",{className:"form-check",children:[(0,l.jsx)(n.gN,{id:"confirmProcessData",name:"confirmProcessData",type:"checkbox",className:"form-check-input"}),(0,l.jsx)("label",{htmlFor:"confirmProcessData",className:"form-check-label",children:"S\xfahlas\xedm so spracovan\xedm uveden\xfdch \xfadajov"}),(0,l.jsx)(n.Bc,{name:"confirmProcessData",children:function(e){return(0,l.jsx)("div",{className:"error-msg",children:e})}})]})})})]}),e.allowRoleChange&&(0,l.jsx)("div",{className:"mt-3 mb-4",children:(0,l.jsxs)("div",{className:"form-control",children:[(0,l.jsx)("label",{htmlFor:"confirmPassword",children:"Rola Pou\u017e\xedvate\u013ea"}),(0,l.jsxs)(n.gN,{name:"role",as:"select",className:"form-control ".concat(a.role&&i.role?"is-invalid":""),children:[(0,l.jsx)("option",{value:r.i4.USER,children:r.i4.USER}),(0,l.jsx)("option",{value:r.i4.TEACHER,children:r.i4.TEACHER}),(0,l.jsx)("option",{value:r.i4.ADMIN,children:r.i4.ADMIN})]}),(0,l.jsx)(n.Bc,{name:"role",children:function(e){return(0,l.jsx)("div",{className:"error-msg",children:e})}})]})}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)(o.Z,{type:"submit",className:"width-responsive",children:e.onSubmitText})})]})}})})}},1647:function(e,s,a){a.r(s),a.d(s,{default:function(){return b}});var n=a(885),r=a(2791),i=a(3360),o=a(9743),l=a(2677),c=a(5759),t=a(7222),m=a(5711),d=a(258),h=a(8145),v=a(1398),u=a(6871),x="UserList_flexRow__cmEyz",f=a(184),j=function(e){var s=(0,u.s0)();return(0,f.jsxs)(v.Z,{children:[(0,f.jsx)(v.Z.Item,{disabled:!0,children:(0,f.jsxs)("div",{className:x,children:[(0,f.jsx)("span",{children:"ID"}),(0,f.jsx)("span",{children:"Meno a priezvisko"}),(0,f.jsx)("span",{children:"Email"}),(0,f.jsx)("span",{children:"Rola"})]})}),e.users.map((function(e){return(0,f.jsx)(v.Z.Item,{action:!0,onClick:function(){s("/users/".concat(e.id))},children:(0,f.jsxs)("div",{className:x,children:[(0,f.jsxs)("span",{children:[e.id," "]}),(0,f.jsxs)("span",{children:[" ","".concat(e.firstname," ").concat(e.lastname)," "]}),(0,f.jsxs)("span",{children:[" ",e.email," "]}),(0,f.jsx)("span",{children:e.role})]})},e.id)}))]})},p=a(847),N=a(807),b=function(e){var s,a=(0,r.useContext)(N.Z),v=a.fetchAll,u=a.data,x=a.save,b=u.error,Z=u.opStatus,w=u.users,P=(0,r.useState)(!1),g=(0,n.Z)(P,2),y=g[0],k=g[1];(0,r.useEffect)((function(){v()}),[v]);var _=(0,f.jsx)(d.Z,{requiredRole:[p.i4.ADMIN],children:(0,f.jsxs)("div",{className:"centered",children:[(0,f.jsx)(i.Z,{onClick:function(){return k(!0)},children:"Vytvori\u0165 nov\xe9ho pou\u017e\xedvate\u013ea"}),(0,f.jsx)(c.Z,{title:"Vytvorenie nov\xe9ho pou\u017e\xedvate\u013ea",backdropType:"static",show:y,onHide:function(){return k(!1)},children:(0,f.jsx)(h.Z,{allowRoleChange:!0,onSubmit:function(e){x({role:e.role,email:e.email,firstname:e.firstname,lastname:e.lastname,password:e.password}),k(!1)},onSubmitText:"Vytvori\u0165"})})]})});return"Pending"===Z&&(s=(0,f.jsx)("div",{className:"centered",children:(0,f.jsx)(m.Z,{})})),(b||"Failure"===Z)&&(s=(0,f.jsx)("p",{className:"centered h4 error-msg",children:b})),"Finished"!==Z||w&&0!==w.length||(s=(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"centered",children:(0,f.jsx)("p",{className:"h4",children:"\u017diadny pou\u017e\xedvatelia neboli n\xe1jden\xed"})})})),"Finished"===Z&&!b&&w&&w.length>0&&(s=(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"maxwidth-720",children:(0,f.jsx)(j,{users:w})})})),(0,f.jsxs)(t.Z,{children:[(0,f.jsx)(o.Z,{children:(0,f.jsxs)(l.Z,{children:[(0,f.jsx)("div",{className:"centered",children:(0,f.jsx)("h2",{className:"display-2 txt-main",children:"Zoznam pou\u017e\xedvate\u013eov"})}),_]})}),(0,f.jsx)(o.Z,{children:(0,f.jsx)(l.Z,{children:s})})]})}},1398:function(e,s,a){a.d(s,{Z:function(){return Z}});var n=a(1413),r=a(5987),i=a(1694),o=a.n(i),l=a(2791),c=(a(2391),a(239)),t=a(763),m=a(162),d=a(885),h=a(9007),v=a(4787),u=a(8633),x=a(184),f=["bsPrefix","active","disabled","eventKey","className","variant","action","as"],j=l.forwardRef((function(e,s){var a=e.bsPrefix,i=e.active,l=e.disabled,c=e.eventKey,t=e.className,j=e.variant,p=e.action,N=e.as,b=(0,r.Z)(e,f);a=(0,m.vE)(a,"list-group-item");var Z=(0,v.v)((0,n.Z)({key:(0,u.h)(c,b.href),active:i},b)),w=(0,d.Z)(Z,2),P=w[0],g=w[1],y=(0,h.Z)((function(e){if(l)return e.preventDefault(),void e.stopPropagation();P.onClick(e)}));l&&void 0===b.tabIndex&&(b.tabIndex=-1,b["aria-disabled"]=!0);var k=N||(p?b.href?"a":"button":"div");return(0,x.jsx)(k,(0,n.Z)((0,n.Z)((0,n.Z)({ref:s},b),P),{},{onClick:y,className:o()(t,a,g.isActive&&"active",l&&"disabled",j&&"".concat(a,"-").concat(j),p&&"".concat(a,"-action"))}))}));j.displayName="ListGroupItem";var p=j,N=["className","bsPrefix","variant","horizontal","numbered","as"],b=l.forwardRef((function(e,s){var a,i=(0,c.Ch)(e,{activeKey:"onSelect"}),l=i.className,d=i.bsPrefix,h=i.variant,v=i.horizontal,u=i.numbered,f=i.as,j=void 0===f?"div":f,p=(0,r.Z)(i,N),b=(0,m.vE)(d,"list-group");return v&&(a=!0===v?"horizontal":"horizontal-".concat(v)),(0,x.jsx)(t.Z,(0,n.Z)((0,n.Z)({ref:s},p),{},{as:j,className:o()(l,b,h&&"".concat(b,"-").concat(h),a&&"".concat(b,"-").concat(a),u&&"".concat(b,"-numbered"))}))}));b.displayName="ListGroup";var Z=Object.assign(b,{Item:p})}}]);
//# sourceMappingURL=647.d45a8828.chunk.js.map