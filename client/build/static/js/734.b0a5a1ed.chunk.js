"use strict";(self.webpackChunkbp_frontend_typescript=self.webpackChunkbp_frontend_typescript||[]).push([[734],{7222:function(n,e,t){var i=t(7022),s=t(184);e.Z=function(n){return(0,s.jsx)(i.Z,{className:"container-content my-sm-4 my-xl-5 pb-3 pb-sm-4 pb-lg-5",children:n.children})}},3829:function(n,e,t){var i=t(885),s=t(2791),o=t(3360),a=t(7285),c=t(184);e.Z=function(n){var e=(0,s.useState)(!1),t=(0,i.Z)(e,2),r=t[0],l=t[1];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.Z,{show:r,bodyMessage:n.bodyMessage,onHide:function(){l(!1)},title:n.title,onConfirm:n.onConfirm}),(0,c.jsx)(o.Z,{variant:n.confirmBtnVariant?n.confirmBtnVariant:"danger",onClick:function(){l(!0)},className:n.className,children:n.confirmBtnTitle})]})}},7285:function(n,e,t){var i=t(5316),s=t(3360),o=t(1578),a=t(184);e.Z=function(n){var e=(0,o.Z)();return(0,a.jsxs)(i.Z,{className:n.className,show:n.show,onHide:n.onHide,backdrop:!0,children:[(0,a.jsx)(i.Z.Header,{closeButton:!0,children:(0,a.jsx)(i.Z.Title,{children:n.title})}),(0,a.jsxs)(i.Z.Body,{children:[(0,a.jsx)("h5",{children:n.bodyMessage}),n.children]}),(0,a.jsxs)(i.Z.Footer,{children:[(0,a.jsx)(s.Z,{onClick:n.onConfirm,children:null===e||void 0===e?void 0:e.confirmLabel}),(0,a.jsx)(s.Z,{onClick:n.onHide,children:null===e||void 0===e?void 0:e.cancelLabel})]})]})}},3734:function(n,e,t){t.r(e),t.d(e,{default:function(){return y}});var i=t(5861),s=t(7757),o=t.n(s),a=t(6864),c=t(2791),r=t(9743),l=t(2677),d=t(6871),u=t(3855),m=t(1578),h=t(2451),p=t(184),x=function(n){return(0,p.jsxs)(u.Z.Check,{children:[(0,p.jsx)("span",{className:"ms-1 ms-sm-3",children:n.index}),(0,p.jsx)(a.gN,{type:n.questionType,id:"".concat(n.name).concat(n.option.id),value:n.option.title,name:n.name,className:"ms-1 ms-sm-2 ms-md-3 form-check-input"}),(0,p.jsx)(u.Z.Label,{className:"d-inline-block ms-2 ms-md-3 form-check-label",htmlFor:"".concat(n.name).concat(n.option.id),children:n.option.title})]})},f=function(n){var e=(0,m.Z)(),t=null,i="radio";return n.question.type===h.TC.INPUT?t=(0,p.jsx)(a.gN,{className:"mt-2 form-control",type:"text",onChange:n.onChange,value:n.values&&n.values["".concat(n.question.id,".text")],name:"".concat(n.question.id),id:"".concat(n.question.title).concat(n.question.id),placeholder:null===e||void 0===e?void 0:e.answerLabel}):n.question.type===h.TC.MULTIPLE_CHOICES?i="checkbox":n.question.type===h.TC.SINGLE_CHOICE&&(i="radio"),t=null===t?n.question.options.map((function(e,t){return(0,p.jsx)(x,{name:"".concat(n.question.id),option:e,questionType:i,index:String.fromCharCode("A".charCodeAt(0)+t)},e.id)})):t,(0,p.jsxs)(u.Z.Group,{className:"mt-4 mb-3",children:[(0,p.jsxs)("h2",{className:"h4",children:[n.index,". ",n.question.title," (",n.question.points,"b)"]}),(0,p.jsx)("div",{children:t})]})},v=t(7222),j=t(5711),C=t(8130),b=t(3829),y=function(){var n=(0,m.Z)(),e=(0,d.UO)().testId,t=new Date,s=(0,c.useContext)(C.Z),u=s.fetchById,x=s.data,y=s.evaluateTest,Z=x.opStatus,N=x.tests,q=x.error,T=N[0];if((0,c.useEffect)((function(){e&&parseInt(e)>0&&u(parseInt(e))}),[u,e]),"Pending"===Z)return(0,p.jsx)("div",{className:"centered",children:(0,p.jsx)(j.Z,{})});if(q||"Failure"===Z||"Finished"===Z&&(!N||0===N.length))return(0,p.jsx)("p",{className:"centerVertical h1 bg-info py-2 px-3",children:"Request failed with status code 404"===q?"".concat(null===n||void 0===n?void 0:n.testNotFound," ").concat(e):q});var g={};T.questions.forEach((function(n){(n.type===h.TC.INPUT||n.type===h.TC.SINGLE_CHOICE||n.type===h.TC.MULTIPLE_CHOICES)&&(g["".concat(n.id)]="")}));var I=function(){var n=(0,i.Z)(o().mark((function n(e){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:y({started_at:t,answers:T.questions.map((function(n){var t=e[n.id];return{questionId:n.id,type:n.type,answer:n.type===h.TC.MULTIPLE_CHOICES?t||[""]:t?[t]:[""]}}))},T.id);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,p.jsxs)(v.Z,{children:[(0,p.jsx)(r.Z,{children:(0,p.jsx)(l.Z,{children:(0,p.jsx)("header",{className:"text-center",children:(0,p.jsx)("h1",{className:"display-2 txt-main",children:"".concat(null===n||void 0===n?void 0:n.testLabel,": ").concat(T.title)})})})}),(0,p.jsx)(r.Z,{className:"px-1 px-md-3 px-lg-4 px-xl-5",children:(0,p.jsx)(a.J9,{initialValues:{testId:T.id,options:g},onSubmit:function(n){I(n)},children:function(e){var t=e.values,i=e.handleChange,s=e.handleSubmit;return(0,p.jsxs)(a.l0,{children:[T.questions.map((function(n,e){return(0,p.jsx)(f,{question:n,index:e+1,values:t,onChange:i},n.id)})),(0,p.jsx)("div",{className:"centered",children:(0,p.jsx)(b.Z,{confirmBtnTitle:null===n||void 0===n?void 0:n.submitLabel,bodyMessage:null===n||void 0===n?void 0:n.testSubmissionModalBody,title:null===n||void 0===n?void 0:n.testSubmissionModalTitle,onConfirm:s,confirmBtnVariant:"primary",className:"width-50-991-100",children:null===n||void 0===n?void 0:n.submitLabel})})]})}})})]})}}}]);
//# sourceMappingURL=734.b0a5a1ed.chunk.js.map